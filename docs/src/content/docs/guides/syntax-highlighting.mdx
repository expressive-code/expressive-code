---
title: Syntax Highlighting
---

Expressive Code's default syntax highlighter is [Shiki](https://shiki.matsu.io/), which uses the same engine as VS Code to provide accurate syntax highlighting for over 100 languages.

## Usage in markdown / MDX

To get syntax highlighting for your code blocks, wrap them in code fences (using three or more backticks) and ensure that your opening code fences include a language identifier, e.g. `js` for JavaScript:

````md title="example.md" ins=/^([^a-z]{3}.*)/
```js
console.log('This code is syntax highlighted!')
```
````

The rendered result looks like this:
```js
console.log('This code is syntax highlighted!')
```

## Supported languages

Shiki supports over 100 languages, including JavaScript, TypeScript, HTML, CSS, Astro, Markdown, MDX, JSON, YAML, and many more. You can find a [list of all language identifiers](https://github.com/shikijs/shiki/blob/main/docs/languages.md#all-languages) on GitHub.

## Configuration

The default Syntax Highlighting plugin does not have any configuration options. It automatically uses all themes defined in the Expressive Code [configuration](/reference/configuration/) under the option `themes`.

## ANSI escape sequences

Expressive Code supports rendering a subset of [ANSI escape sequences](https://en.wikipedia.org/wiki/ANSI_escape_code). This can be useful for displaying formatted terminal output in your documentation.

To enable this feature for a code block, set its language identifier in the opening code fence to `ansi`. You can then use the following ANSI escape sequences:

````md title="ansi-example.md" ins="ansi"
```ansi
ANSI colors:
- Regular: [31mRed[0m [32mGreen[0m [33mYellow[0m [34mBlue[0m [35mMagenta[0m [36mCyan[0m
- Bold:    [1;31mRed[0m [1;32mGreen[0m [1;33mYellow[0m [1;34mBlue[0m [1;35mMagenta[0m [1;36mCyan[0m
- Dimmed:  [2;31mRed[0m [2;32mGreen[0m [2;33mYellow[0m [2;34mBlue[0m [2;35mMagenta[0m [2;36mCyan[0m

256 colors (showing colors 160-177):
[38;5;160m160 [38;5;161m161 [38;5;162m162 [38;5;163m163 [38;5;164m164 [38;5;165m165[0m
[38;5;166m166 [38;5;167m167 [38;5;168m168 [38;5;169m169 [38;5;170m170 [38;5;171m171[0m
[38;5;172m172 [38;5;173m173 [38;5;174m174 [38;5;175m175 [38;5;176m176 [38;5;177m177[0m

Full RGB colors:
[38;2;34;139;34mForestGreen - RGB(34, 139, 34)[0m

Text formatting: [1mBold[0m [2mDimmed[0m [3mItalic[0m [4mUnderline[0m
```
````

Result:

```ansi
ANSI colors:
- Regular: [31mRed[0m [32mGreen[0m [33mYellow[0m [34mBlue[0m [35mMagenta[0m [36mCyan[0m
- Bold:    [1;31mRed[0m [1;32mGreen[0m [1;33mYellow[0m [1;34mBlue[0m [1;35mMagenta[0m [1;36mCyan[0m
- Dimmed:  [2;31mRed[0m [2;32mGreen[0m [2;33mYellow[0m [2;34mBlue[0m [2;35mMagenta[0m [2;36mCyan[0m

256 colors (showing colors 160-177):
[38;5;160m160 [38;5;161m161 [38;5;162m162 [38;5;163m163 [38;5;164m164 [38;5;165m165[0m
[38;5;166m166 [38;5;167m167 [38;5;168m168 [38;5;169m169 [38;5;170m170 [38;5;171m171[0m
[38;5;172m172 [38;5;173m173 [38;5;174m174 [38;5;175m175 [38;5;176m176 [38;5;177m177[0m

Full RGB colors:
[38;2;34;139;34mForestGreen - RGB(34, 139, 34)[0m

Text formatting: [1mBold[0m [2mDimmed[0m [3mItalic[0m [4mUnderline[0m
```

## Differences to Shiki's HTML output

If you're migrating an existing site to Expressive Code that uses custom CSS to modify syntax-highlighted code, please note that the HTML output and classes generated by Expressive Code do not match the default output generated by Shiki.

Instead, the syntax tokens generated by Shiki are converted to Expressive Code's own annotations (`InlineStyleAnnotation`), which provide efficient multi-theme support and can be combined with other annotations.

If you need additional classes on some HTML elements, consider [writing your own plugin](/reference/plugins/) to modify the output as needed.

## Using another syntax highlighter

Expressive Code is a plugin-based system, and syntax highlighting is internally handled by the plugin package `@expressive-code/plugin-shiki`, which is installed and enabled by default in all Expressive Code integrations.

If you want to create your own plugin that uses a different syntax highlighter, you can disable the Shiki plugin in the [configuration](/reference/configuration/) and add your own syntax highlighter plugin instead.

:::tip
If you publish your own plugin package to NPM, please [let us know on GitHub](https://github.com/expressive-code/expressive-code/issues). We'd love to showcase high-quality community plugins.
:::
