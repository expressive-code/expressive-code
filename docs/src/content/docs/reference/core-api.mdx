---
# WARNING: Do not edit this file directly, your changes will be overwritten!
# This file is auto-generated from a template inside "scripts/typedoc/templates".
title: Core API
---

## Engine

### ExpressiveCodeEngine

The Expressive Code engine is responsible for rendering code blocks to a [Hypertext Abstract Syntax Tree (HAST)](https://github.com/syntax-tree/hast) that can be serialized to HTML, as well as generating the required CSS styles and JS modules.

It also provides read-only access to all resolved configuration options through its public properties.

#### Constructors

##### new ExpressiveCodeEngine(config)

- <code class="function-signature">**new ExpressiveCodeEngine**(config): [ExpressiveCodeEngine](/api/expressive-code/core/classes/expressivecodeengine/)</code>

Creates a new instance of the Expressive Code engine.

To minimize overhead caused by loading plugins, you can create a single instance for your application and keep using it to render all your code blocks.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `config` | [`ExpressiveCodeEngineConfig`](/api/expressive-code/core/interfaces/expressivecodeengineconfig/) |

#### Methods

##### getBaseStyles()

- <code class="function-signature">**getBaseStyles**(): Promise\<string\></code>

Returns a string containing all CSS styles that should be added to every page using Expressive Code. These styles are static base styles which do not depend on the configured theme(s).

The calling code must take care of actually adding the returned styles to the page.

Please note that the styles contain references to CSS variables, which must also be added to the page. These can be obtained by calling [getThemeStyles](/api/expressive-code/core/classes/expressivecodeengine/#getthemestyles).

##### getJsModules()

- <code class="function-signature">**getJsModules**(): Promise\<string[]\></code>

Returns an array of JavaScript modules (pure core without any wrapping `script` tags) that should be added to every page containing code blocks.

The contents are collected from the `jsModules` property of all registered plugins. Any duplicates are removed.

The calling code must take care of actually adding the collected scripts to the page. For example, it could create site-wide JavaScript files from the returned modules and refer to them in a script tag with `type="module"`, or it could insert them into inline `<script type="module">` elements.

##### getThemeStyles()

- <code class="function-signature">**getThemeStyles**(): Promise\<string\></code>

Returns a string containing theme-dependent styles that should be added to every page using Expressive Code. These styles contain CSS variable declarations that are generated automatically based on the configured [themes](/api/expressive-code/core/interfaces/expressivecodeengineconfig/#themes),
[useDarkModeMediaQuery](/api/expressive-code/core/interfaces/expressivecodeengineconfig/#usedarkmodemediaquery) and
[themeCssSelector](/api/expressive-code/core/interfaces/expressivecodeengineconfig/#themecssselector) config options.

The first theme defined in the `themes` option is considered the "base theme", for which a full set of CSS variables is declared and scoped to the selector defined by the `themeCssRoot` option (defaults to `:root`).

For all alternate themes, a differential set of CSS variables is declared for cases where their values differ from the base theme, and scoped to theme-specific selectors that are generated by combining `themeCssRoot` with the theme selector specified by this option.

The calling code must take care of actually adding the returned styles to the page.

Please note that these styles must be added to the page together with the base styles returned by [getBaseStyles](/api/expressive-code/core/classes/expressivecodeengine/#getbasestyles).

##### render()

- <code class="function-signature">**render**(input, options?): Promise\<Object\></code>

Renders the given code block(s) and returns the rendered group & block ASTs, the rendered code block contents after all transformations have been applied, and a set of non-global CSS styles required by the rendered code blocks.

In Expressive Code, all processing of your code blocks and their metadata is performed by plugins. To render markup around lines or inline ranges of characters, the `render` method calls the hook functions registered by all added plugins.

###### Arguments

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `input` | [`RenderInput`](/api/expressive-code/-internal-/type-aliases/renderinput/) | The code block(s) to render. Can either be an `ExpressiveCodeBlockOptions` object<br />containing the properties required to create a new `ExpressiveCodeBlock` internally,<br />an existing `ExpressiveCodeBlock`, or an array containing any combination of these. |
| `options`? | [`RenderOptions`](/api/expressive-code/-internal-/interfaces/renderoptions/) | Optional configuration options for the rendering process. |

###### Returns

`Promise`\<`Object`\>

| Member | Type | Description |
| :------ | :------ | :------ |
| `renderedGroupAst` | `Parent` | - |
| `renderedGroupContents` | [`RenderedGroupContents`](/api/expressive-code/-internal-/type-aliases/renderedgroupcontents/) | - |
| `styles` | `Set`\<`string`\> | - |

#### Properties

All config options that can be passed to the constructor are also available
on the instance as read-only properties.


## Code blocks

### ExpressiveCodeBlock

Represents a single code block that can be rendered by the Expressive Code engine.

#### Usage example

```js
// codeBlockExample.js
import { ExpressiveCodeBlock } from 'expressive-code'

const codePlaintext = `
// Perform very important calculations
const a = 1 + 2
`

const codeBlock = new ExpressiveCodeBlock({
  code: codePlaintext.trim(),
  language: 'js',
})

// Delete the first line and output the remaining code
codeBlock.deleteLine(0)
console.dir(codeBlock.code)
// --> 'const a = 1 + 2'
```

#### Constructors

##### new ExpressiveCodeBlock(options)

- <code class="function-signature">**new ExpressiveCodeBlock**(options): [ExpressiveCodeBlock](/api/expressive-code/core/classes/expressivecodeblock/)</code>

:::note
You usually don't need to create code blocks manually. Instead, you can pass
`ExpressiveCodeBlockOptions` to the `render` method of the `ExpressiveCodeEngine` class,
and the engine will create the code blocks for you.

Manually creating code blocks may still be useful in some cases, e.g. to allow
integration authors to attach custom annotations to code blocks before passing them
to the engine, or to attach custom data to a code block.
:::

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `options` | [`ExpressiveCodeBlockOptions`](/api/expressive-code/core/interfaces/expressivecodeblockoptions/) |

#### Methods

##### deleteLine()

- <code class="function-signature">**deleteLine**(index): void</code>

Deletes the line at the given index.

May throw an error if not allowed in the current [state](/api/expressive-code/core/classes/expressivecodeblock/#state).

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `index` | `number` |

##### deleteLines()

- <code class="function-signature">**deleteLines**(indices): void</code>

Deletes the lines at the given indices.

This function automatically sorts the indices in descending order before deleting the lines, so you do not need to worry about indices shifting after deleting a line.

May throw an error if not allowed in the current [state](/api/expressive-code/core/classes/expressivecodeblock/#state).

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `indices` | `number`[] |

##### getLine()

- <code class="function-signature">**getLine**(index): undefined \| [ExpressiveCodeLine](/api/expressive-code/core/classes/expressivecodeline/)</code>

Returns the line at the given index, or `undefined` if the index is out of range.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `index` | `number` |

##### getLines()

- <code class="function-signature">**getLines**(startIndex?, endIndex?): readonly [ExpressiveCodeLine](/api/expressive-code/core/classes/expressivecodeline/)[]</code>

Returns a readonly array of lines starting at the given index and ending before the given index (exclusive). The indices support the same syntax as JavaScript’s
`Array.slice` method.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `startIndex`? | `number` |
| `endIndex`? | `number` |

##### insertLine()

- <code class="function-signature">**insertLine**(index, textLine): [ExpressiveCodeLine](/api/expressive-code/core/classes/expressivecodeline/)</code>

Inserts a new line at the given index.

May throw an error if not allowed in the current [state](/api/expressive-code/core/classes/expressivecodeblock/#state).

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `index` | `number` |
| `textLine` | `string` |

##### insertLines()

- <code class="function-signature">**insertLines**(index, textLines): [ExpressiveCodeLine](/api/expressive-code/core/classes/expressivecodeline/)[]</code>

Inserts multiple new lines at the given index.

May throw an error if not allowed in the current [state](/api/expressive-code/core/classes/expressivecodeblock/#state).

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `index` | `number` |
| `textLines` | `string`[] |

#### Accessors

##### code

- <code class="function-signature">**get** **code**(): string</code>

Provides read-only access to the code block’s plaintext contents.

##### language

- <code class="function-signature">**get** **language**(): string</code>

- <code class="function-signature">**set** **language**(value): void</code>

Allows getting and setting the code block’s language.

Setting this property may throw an error if not allowed in the current [state](/api/expressive-code/core/classes/expressivecodeblock/#state).

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `value` | `string` |

##### locale

- <code class="function-signature">**get** **locale**(): undefined \| string</code>

Allows getting the code block's locale (e.g. `en-US` or `de-DE`). It is used by plugins to display localized strings depending on the language of the containing page.

Integrations like `remark-expressive-code` support multi-language sites by allowing you to provide custom logic to determine a block's locale (e.g. based on its parent document).

If no locale is defined here, `ExpressiveCodeEngine` will render the code block using the `defaultLocale` provided in its configuration.

##### meta

- <code class="function-signature">**get** **meta**(): string</code>

- <code class="function-signature">**set** **meta**(value): void</code>

Allows getting or setting the code block’s meta string. In markdown or MDX documents, this is the part of the code block’s opening fence that comes after the language name.

Setting this property may throw an error if not allowed in the current [state](/api/expressive-code/core/classes/expressivecodeblock/#state).

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `value` | `string` |

##### parentDocument

- <code class="function-signature">**get** **parentDocument**(): undefined \| Object</code>

Provides read-only access to optional data about the parent document the code block is located in.

Integrations like `remark-expressive-code` can provide this information based on the source document being processed. There may be cases where no document is available, e.g. when the code block was created dynamically.

##### state

- <code class="function-signature">**get** **state**(): undefined \| [ExpressiveCodeProcessingState](/api/expressive-code/-internal-/interfaces/expressivecodeprocessingstate/)</code>

Provides read-only access to the code block’s processing state.

The processing state controls which properties of the code block can be modified. The engine updates it automatically during rendering.


### ExpressiveCodeBlockOptions

#### Properties

##### code

- Type: `string`

The plaintext contents of the code block.

##### language

- Type: `string`

The code block’s language.

Please use one of the [language identifiers](https://github.com/antfu/textmate-grammars-themes/blob/main/packages/tm-grammars/README.md) supported by Shikiji to ensure proper syntax highlighting.

##### locale?

- Type: `string`

The code block's locale (e.g. `en-US` or `de-DE`). This is used by plugins to display localized strings depending on the language of the containing page.

Integrations like `remark-expressive-code` support multi-language sites by allowing you to provide custom logic to determine a block's locale (e.g. based on its parent document).

If no locale is defined here, `ExpressiveCodeEngine` will render the code block using the `defaultLocale` provided in its configuration.

##### meta?

- Type: `string`

An optional meta string. In markdown or MDX documents, this is the part of the code block's opening fence that comes after the language name.

##### parentDocument?

- Type: `Object`

Optional data about the parent document the code block is located in.

Integrations like `remark-expressive-code` can provide this information based on the source document being processed. There may be cases where no document is available, e.g. when the code block was created dynamically.

###### Type declaration

| Member | Type | Description |
| :------ | :------ | :------ |
| `documentRoot` | `unknown` | A reference to the object representing the parsed source document. This reference will stay the same for all code blocks in the same document.<br /><br />For example, if you are using `remark-expressive-code` to render code blocks in a Markdown file, this would be the `mdast` node representing the file's root node. |
| `positionInDocument` | `Object` | Data about the position of the code block in the parent document. |
| `positionInDocument.groupIndex` | `number` | - |
| `positionInDocument.totalGroups` | `number` | - |
| `sourceFilePath` | `string` | The full path to the source file containing the code block. |


### ExpressiveCodeLine

#### Constructors

##### new ExpressiveCodeLine(text)

- <code class="function-signature">**new ExpressiveCodeLine**(text): [ExpressiveCodeLine](/api/expressive-code/core/classes/expressivecodeline/)</code>

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `text` | `string` |

#### Methods

##### addAnnotation()

- <code class="function-signature">**addAnnotation**(annotation): void</code>

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `annotation` | [`ExpressiveCodeAnnotation`](/api/expressive-code/core/classes/expressivecodeannotation/) |

##### deleteAnnotation()

- <code class="function-signature">**deleteAnnotation**(annotation): void</code>

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `annotation` | [`ExpressiveCodeAnnotation`](/api/expressive-code/core/classes/expressivecodeannotation/) |

##### editText()

- <code class="function-signature">**editText**(columnStart, columnEnd, newText): string</code>

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `columnStart` | `undefined` \| `number` |
| `columnEnd` | `undefined` \| `number` |
| `newText` | `string` |

##### getAnnotations()

- <code class="function-signature">**getAnnotations**(): readonly [ExpressiveCodeAnnotation](/api/expressive-code/core/classes/expressivecodeannotation/)[]</code>

#### Accessors

##### parent

- <code class="function-signature">**get** **parent**(): undefined \| [ExpressiveCodeBlock](/api/expressive-code/core/classes/expressivecodeblock/)</code>

- <code class="function-signature">**set** **parent**(value): void</code>

###### Parameters

| Parameter | Type |
| :------ | :------ |
| `value` | `undefined` \| [`ExpressiveCodeBlock`](/api/expressive-code/core/classes/expressivecodeblock/) |

##### text

- <code class="function-signature">**get** **text**(): string</code>


## Themes

### ExpressiveCodeTheme

#### Constructors

##### new ExpressiveCodeTheme(theme)

- <code class="function-signature">**new ExpressiveCodeTheme**(theme): [ExpressiveCodeTheme](/api/expressive-code/core/classes/expressivecodetheme/)</code>

Loads the given theme for use with Expressive Code. Supports both Shiki and VS Code themes.

You can also pass an existing `ExpressiveCodeTheme` instance to create a copy of it.

Note: To save on bundle size, this constructor does not support loading themes bundled with Shiki by name (e.g. `dracula`). Instead, import Shiki's `loadTheme` function yourself, use it to load its bundled theme (e.g. `themes/dracula.json`), and pass the result to this constructor.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `theme` | [`ExpressiveCodeThemeInput`](/api/expressive-code/core/type-aliases/expressivecodethemeinput/) |

#### Methods

##### applyHueAndChromaAdjustments()

- <code class="function-signature">**applyHueAndChromaAdjustments**(adjustments): [ExpressiveCodeTheme](/api/expressive-code/core/classes/expressivecodetheme/)</code>

Applies chromatic adjustments to entire groups of theme colors while keeping their relative lightness and alpha components intact. This can be used to quickly create theme variants that fit the color scheme of any website or brand.

Adjustments can either be defined as hue and chroma values in the OKLCH color space (range 0–360 for hue, 0–0.4 for chroma), or these values can be extracted from hex color strings (e.g. `#3b82f6`).

You can target predefined groups of theme colors (e.g. `backgrounds`, `accents`) and/or use the `custom` property to define your own groups of theme colors to be adjusted. Each custom group must contain a `themeColorKeys` property with an array of VS Code theme color keys (e.g. `['panel.background', 'panel.border']`) and a `targetHueAndChroma` property that accepts the same adjustment target values as `backgrounds` and `accents`. Custom groups will be applied in the order they are defined.

Returns the same `ExpressiveCodeTheme` instance to allow chaining.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `adjustments` | `Object` |
| `adjustments.accents`? | `string` \| [`ChromaticRecolorTarget`](/api/expressive-code/core/type-aliases/chromaticrecolortarget/) |
| `adjustments.backgrounds`? | `string` \| [`ChromaticRecolorTarget`](/api/expressive-code/core/type-aliases/chromaticrecolortarget/) |
| `adjustments.custom`? | `Object`[] |

##### ensureMinSyntaxHighlightingColorContrast()

- <code class="function-signature">**ensureMinSyntaxHighlightingColorContrast**(minContrast): [ExpressiveCodeTheme](/api/expressive-code/core/classes/expressivecodetheme/)</code>

Processes the theme's syntax highlighting colors to ensure a minimum contrast ratio between foreground and background colors.

The default value of 5.5 ensures optimal accessibility with a contrast ratio of 5.5:1.

Returns the same `ExpressiveCodeTheme` instance to allow chaining.

###### Arguments

| Parameter | Type | Default value |
| :------ | :------ | :------ |
| `minContrast` | `number` | `5.5` |

##### fromJSONString()

- <code class="function-signature">**static** **fromJSONString**(json): [ExpressiveCodeTheme](/api/expressive-code/core/classes/expressivecodetheme/)</code>

Attempts to parse the given JSON string as a theme.

As some themes follow the JSONC format and may contain comments and trailing commas, this method will attempt to strip them before parsing the result.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `json` | `string` |

#### Properties

##### bg

- Type: `string`

##### colors

- Type: `Object` (mapping VS Code workbench color keys to values)

##### fg

- Type: `string`

##### name

- Type: `string`

##### semanticHighlighting

- Type: `boolean`

##### settings

- Type: [`ThemeSetting`](/api/expressive-code/core/type-aliases/themesetting/)[]

##### styleOverrides

An optional set of style overrides that can be used to customize the appearance
of the rendered code blocks without having to write custom CSS.

See [Overriding Styles](/reference/style-overrides) for a list of all available settings.

##### type

- Type: `"dark"` \| `"light"`


## Annotations

In Expressive Code, annotations are used by plugins to attach semantic information to lines or inline ranges of code. They are used to represent things like syntax highlighting, text markers, comments, errors, warnings, and other semantic information.

Annotations must provide a `render` function that transforms its contained AST nodes, e.g. by wrapping them in HTML tags. This function is called by the engine when it's time to render the line the annotation has been attached to.

### ExpressiveCodeAnnotation

An abstract class representing a single annotation attached to a code line.

You can develop your own annotations by extending this class and providing implementations for its abstract methods. See the implementation of the
[InlineStyleAnnotation](/api/expressive-code/core/classes/inlinestyleannotation/) class for an example.

#### Constructors

:::note
As an abstract class, `ExpressiveCodeAnnotation` cannot be instantiated directly.
You should create a subclass that extends `ExpressiveCodeAnnotation` instead.
:::

#### Methods

##### `abstract` render()

- <code class="function-signature">**abstract** **render**(options): Parent[]</code>

Renders the annotation by transforming the provided nodes.

This function will be called with an array of AST nodes to transform, and is expected to return an array containing the same number of nodes.

For example, you could use the `hastscript` library to wrap the received nodes in HTML elements.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `options` | [`AnnotationRenderOptions`](/api/expressive-code/core/type-aliases/annotationrenderoptions/) |

#### Properties

##### inlineRange

- Type: **readonly** `undefined` \| [`ExpressiveCodeInlineRange`](/api/expressive-code/core/type-aliases/expressivecodeinlinerange/)

An optional range of columns within the line that this annotation applies to. If not provided, the annotation will apply to the entire line.

##### renderPhase

- Type: **readonly** [`AnnotationRenderPhase`](/api/expressive-code/core/type-aliases/annotationrenderphase/)

Determines the phase in which this annotation should be rendered. Rendering is done in phases, from `earliest` to `latest`. Annotations with the same phase are rendered in the order they were added.

The earlier an annotation is rendered, the more likely it is to be split, modified or wrapped by later annotations. Syntax highlighting is rendered in the `earliest` phase to allow other annotations to wrap and modify the highlighted code.

The default phase is `normal`.


### InlineStyleAnnotation

A theme-dependent inline style annotation.

You can add as many inline style annotations to a line as you want, even targeting the same code with multiple fully or partially overlapping annotation ranges. During rendering, these annotations will be automatically optimized to avoid creating unnecessary HTML elements.

#### Constructors

##### new InlineStyleAnnotation(options)

- <code class="function-signature">**new InlineStyleAnnotation**(options): [InlineStyleAnnotation](/api/expressive-code/core/classes/inlinestyleannotation/)</code>

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `options` | [`InlineStyleAnnotationOptions`](/api/expressive-code/core/type-aliases/inlinestyleannotationoptions/) |

#### Methods

##### render()

- <code class="function-signature">**render**(options): Parent[]</code>

Renders the annotation by transforming the provided nodes.

This function will be called with an array of AST nodes to transform, and is expected to return an array containing the same number of nodes.

For example, you could use the `hastscript` library to wrap the received nodes in HTML elements.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `options` | [`AnnotationRenderOptions`](/api/expressive-code/core/type-aliases/annotationrenderoptions/) |

#### Properties

##### bold

- Type: `boolean`

##### color

- Type: `undefined` \| `string`

##### inlineRange

- Type: **readonly** `undefined` \| [`ExpressiveCodeInlineRange`](/api/expressive-code/core/type-aliases/expressivecodeinlinerange/)

An optional range of columns within the line that this annotation applies to. If not provided, the annotation will apply to the entire line.

##### italic

- Type: `boolean`

##### renderPhase

- Type: **readonly** [`AnnotationRenderPhase`](/api/expressive-code/core/type-aliases/annotationrenderphase/)

Determines the phase in which this annotation should be rendered. Rendering is done in phases, from `earliest` to `latest`. Annotations with the same phase are rendered in the order they were added.

The earlier an annotation is rendered, the more likely it is to be split, modified or wrapped by later annotations. Syntax highlighting is rendered in the `earliest` phase to allow other annotations to wrap and modify the highlighted code.

The default phase is `normal`.

##### styleVariantIndex

- Type: `number`

##### underline

- Type: `boolean`


## Referenced types

### AnnotationBaseOptions

- Type: `Object`

#### Type declaration

| Member | Type | Description |
| :------ | :------ | :------ |
| `inlineRange` | [`ExpressiveCodeInlineRange`](/api/expressive-code/core/type-aliases/expressivecodeinlinerange/) | - |
| `renderPhase` | [`AnnotationRenderPhase`](/api/expressive-code/core/type-aliases/annotationrenderphase/) | - |


### AnnotationRenderOptions

- Type: `Object`

#### Type declaration

| Member | Type | Description |
| :------ | :------ | :------ |
| `line` | [`ExpressiveCodeLine`](/api/expressive-code/core/classes/expressivecodeline/) | - |
| `nodesToTransform` | `Parent`[] | - |


### AnnotationRenderPhase

- Type: `"earliest"` \| `"earlier"` \| `"normal"` \| `"later"` \| `"latest"`


### ChromaticRecolorTarget

- Type: `Object`

#### Type declaration

| Member | Type | Description |
| :------ | :------ | :------ |
| `chroma` | `number` | The target chroma (0 – 0.4).<br /><br />If the input color's lightness is very high, the resulting chroma may be lower than this value. This avoids results that appear too saturated in comparison to the input color. |
| `hue` | `number` | The target hue in degrees (0 – 360). |
| `chromaMeasuredAtLightness` | `number` | The lightness (0 – 1) that the target chroma was measured at.<br /><br />If given, the chroma will be adjusted relative to this lightness before applying it to the input color. |


### ExpressiveCodeInlineRange

- Type: `Object`

#### Type declaration

| Member | Type | Description |
| :------ | :------ | :------ |
| `columnEnd` | `number` | - |
| `columnStart` | `number` | - |


### ExpressiveCodeProcessingState

#### Properties

##### canEditAnnotations

- Type: `boolean`

##### canEditCode

- Type: `boolean`

##### canEditMetadata

- Type: `boolean`


### InlineStyleAnnotationOptions

- Type: [`AnnotationBaseOptions`](/api/expressive-code/core/type-aliases/annotationbaseoptions/) & `Object`

#### Type declaration

| Member | Type | Description |
| :------ | :------ | :------ |
| `styleVariantIndex` | `number` | Inline styles are theme-dependent, which allows plugins like syntax highlighters to style the same code differently depending on the theme.<br /><br />To support this, the engine creates a style variant for each theme given in the configuration, and plugins can go through the engine's `styleVariants` array to access all the themes. When adding an inline style annotation to a range of code, you must specify the index in this `styleVariants` array to indicate which theme the annotation applies to. |
| `bold` | `boolean` | Whether the annotation should be rendered in bold. |
| `color` | `string` | The color of the annotation. This is expected to be a hex color string, e.g. `#888`. Using CSS variables or other color formats is possible, but prevents automatic color contrast checks from working. |
| `italic` | `boolean` | Whether the annotation should be rendered in italics. |
| `underline` | `boolean` | Whether the annotation should be rendered with an underline. |


### RenderInput

- Type: [`ExpressiveCodeBlockOptions`](/api/expressive-code/core/interfaces/expressivecodeblockoptions/) \| [`ExpressiveCodeBlock`](/api/expressive-code/core/classes/expressivecodeblock/) \| ([`ExpressiveCodeBlockOptions`](/api/expressive-code/core/interfaces/expressivecodeblockoptions/) \| [`ExpressiveCodeBlock`](/api/expressive-code/core/classes/expressivecodeblock/))[]


### RenderOptions

#### Properties

##### onInitGroup?

- Type: (`groupContents`) => `void`

An optional handler function that can initialize plugin data for the code block group before processing starts.

Plugins can provide access to their data by exporting a const set to a `new AttachedPluginData(...)` instance (e.g. `myPluginData`).

You can then import the const and set `onInitGroup` to a function that calls `myPluginData.setFor(group, { ...data... })`.

###### Arguments

| Parameter | Type |
| :------ | :------ |
| `groupContents` | [`GroupContents`](/api/expressive-code/-internal-/type-aliases/groupcontents/) |


### ThemeSetting

- Type: `Object`

#### Type declaration

| Member | Type | Description |
| :------ | :------ | :------ |
| `settings` | `Object` | - |
| `settings.fontStyle` | `string` | - |
| `settings.foreground` | `string` | - |
| `name` | `string` | - |
| `scope` | `string`[] | - |

